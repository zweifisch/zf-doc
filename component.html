<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="assets/style.css" />
	<link rel="stylesheet" href="assets/github.css" />
</head>
<body>

	<div class="container">
		<div class="navigation-menu">

			<ul class="menu-root">
										<li class="navigation-menu-folder">
					<a class=""
						href="getting_started.html">Getting Started</a></li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="routing/routing.html">Routing</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="routing/routing.html">Routing</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="routing/rest.html">REST</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="routing/rpc.html">RPC</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="request/url_params.html">Request</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="request/url_params.html">URL Params</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="request/validation.html">Validation</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="response/response.html">Response</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="response/response.html">Response</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="response/rendering_template.html">Rendering Template</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="response/miscs.html">Miscs</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<a class=""
						href="event.html">Event</a></li>
													<li class="navigation-menu-folder">
					<a class="current"
						href="component.html">Component</a></li>
													<li class="navigation-menu-folder">
					<a class=""
						href="middleware.html">Middleware</a></li>
													<li class="navigation-menu-folder">
					<a class=""
						href="helper.html">Helper</a></li>
													<li class="navigation-menu-folder">
					<a class=""
						href="config.html">Config</a></li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="session/session.html">Session</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="session/session.html">Session</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="session/user.html">User</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="commandline/routing.html">Commandline</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="commandline/routing.html">Routing</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="commandline/signal.html">Signal</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="commandline/miscs.html">Miscs</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="commandline/phar_distribution.html">Phar Distribution</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<a class=""
						href="laziness.html">Laziness</a></li>
													<li class="navigation-menu-folder">
					<ul>
												<a href="database/mongodb.html">Database</a>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="database/mongodb.html">Mongodb</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="database/pdo.html">PDO</a>
						</li>
											<li class="navigation-menu-article" style="display:none" >
							<a class=""
								href="database/redis.html">Redis</a>
						</li>
										</ul>
				</li>
													<li class="navigation-menu-folder">
					<a class=""
						href="logging.html">Logging</a></li>
									</ul>

			<ul class="menu-links">
								<li>
					<a href="http://zweifisch.github.io/zf-doc/">Home</a>
				</li>
								<li>
					<a href="https://github.com/zweifisch/zf">GitHub Repo</a>
				</li>
							</ul>

		</div>
		<div class="main-content">
						<h1> Component</h1>
						<p>register components in configs.php</p>

<pre><code class="language-php">return [
    'components' =&gt; [
        'mongo' =&gt; 'Mongo', [
            'collections' =&gt; [
                'users','posts' =&gt; [
                    'url'        =&gt; 'mongodb://localhost:27017',
                    'database'   =&gt; 'project',
            ],
        ],
        'redis' =&gt; 'Redis', [
            'dbs' =&gt; [
                'default' =&gt; [
                    'host'     =&gt; 'localhost',
                    'pconnect' =&gt; true,
                ],
            ],
        ],
    ],
];
</code></pre>

<p>accessing components</p>

<pre><code>$app-&gt;mongo-&gt;users-&gt;findOne();
</code></pre>

<h2>register componets on the fly</h2>

<pre><code class="language-php">$app-&gt;register('db', '\ns\SomeDB', ['host' =&gt; $host, 'port' =&gt; $port]);
</code></pre>

<p>or using a closure</p>

<pre><code class="language-php">$app-&gt;register('myComponent', function(){
    return new \ns\SomeComponent();
});
</code></pre>

<p>execute some additional code when the component is actually initialized</p>

<pre><code class="language-php">$app-&gt;register('db', '\ns\SomeDB', ['url' =&gt; $url])-&gt;initialized(function($db) {
    $connected = $db-&gt;connect();
});
</code></pre>

<h2>component depends on other components</h2>

<pre><code class="language-php">return [
    'components' =&gt; [
        'httpclient' =&gt; '\HTTPClient',
        'restclient' =&gt; '\RestClient' =&gt; [
            'baseurl' =&gt; 'http://restserver.io'
        ],
    ],
];
</code></pre>

<pre><code class="language-php">class RestClient
{
    function __construct($baseurl, $httpclient)
    {
        // $httpclient is an instance of \HTTPClient;
    }
}
</code></pre>
		</div>
	</div>

	<script type="text/javascript" src="assets/highlight.js"></script>
	<script type="text/javascript">hljs.initHighlightingOnLoad()</script>
</body>
</html>
